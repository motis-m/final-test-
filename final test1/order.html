<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>提交订单 - MyShop</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<header class="top">
    <a href="index.html" class="logo">MyShop</a>
    <nav class="nav">
        <a href="index.html">首页</a>
        <a href="user.html">个人中心</a>
    </nav>
</header>

<div style="max-width:800px;margin:20px auto;padding:20px;background:white;border-radius:5px;box-shadow:0 1px 3px rgba(0,0,0,0.1);">
    <h2>提交订单</h2>
    
    <div id="orderItems" style="margin-bottom:20px;border-bottom:1px solid #eee;padding-bottom:20px;">
        <!-- 订单商品会在这里显示 -->
    </div>
    
    <div>
        <h3>订单信息</h3>
        <p>收货地址：<input type="text" placeholder="请输入收货地址" style="width:300px;padding:5px;"></p>
        <p>联系电话：<input type="text" placeholder="请输入联系电话" style="width:300px;padding:5px;"></p>
    </div>
    
    <div style="text-align:right;margin-top:30px;">
        <p>订单总额：<span id="orderTotal" style="color:red;font-size:20px;font-weight:bold;">0</span>元</p>
        <button onclick="submitOrder()" style="padding:12px 30px;background:red;color:white;border:none;border-radius:4px;cursor:pointer;font-size:16px;">
            确认下单
        </button>
    </div>
</div>

<script>
window.onload = function() {
    var cart = JSON.parse(localStorage.getItem("cart")) || [];
    var orderItems = document.getElementById("orderItems");
    var orderTotal = document.getElementById("orderTotal");
    var total = 0;
    
    if (cart.length === 0) {
        orderItems.innerHTML = "<p>购物车为空</p>";
        return;
    }
    
    orderItems.innerHTML = "<h3>订单商品：</h3>";
    cart.forEach(function(item) {
        var itemTotal = item.price * item.count;
        total += itemTotal;
        
        orderItems.innerHTML += `
            <div style="display:flex;align-items:center;padding:10px;border-bottom:1px solid #eee;">
                <img src="${item.img}" style="width:60px;height:60px;margin-right:15px;">
                <div>
                    <p style="margin:0;">${item.name}</p>
                    <p style="margin:5px 0;color:#666;">单价：￥${item.price} × ${item.count}</p>
                </div>
                <div style="margin-left:auto;color:red;font-weight:bold;">￥${itemTotal}</div>
            </div>
        `;
    });
    
    orderTotal.textContent = total.toFixed(2);
};

function submitOrder() {
    if (confirm("确认提交订单吗？")) {
        alert("订单提交成功！");
        localStorage.removeItem("cart");
        window.location.href = "user.html";
    }
}
</script>
</body>
</html>